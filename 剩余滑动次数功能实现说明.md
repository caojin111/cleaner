# 剩余滑动次数功能实现说明

## 功能概述
在照片和视频视图中新增了剩余免费滑动次数的显示功能，帮助用户了解当日可用的滑动次数。

## 实现内容

### 1. UserSettingsManager 增强
- 新增 `remainingSwipes` 计算属性
  - 订阅用户返回 -1（表示无限）
  - 非订阅用户返回剩余次数（0-10）
- 增强 `increaseSwipeCount()` 方法
  - 添加详细的日志记录
  - 区分订阅用户和非订阅用户

### 2. PhotosView 更新
- 在统计头部添加剩余滑动次数显示
- 显示格式：
  - 订阅用户：显示"无限滑动" + 无限符号图标
  - 非订阅用户：显示"剩余 X/10" + 手势图标
- 使用圆角背景和适当的颜色区分

### 3. VideosView 更新
- 与 PhotosView 相同的剩余滑动次数显示
- 确保在删除和保留操作时正确调用 `increaseSwipeCount()`

## 设计特点

### 视觉设计
- **位置**：统计卡片下方，进度条上方
- **样式**：圆角背景，半透明填充
- **颜色**：
  - 订阅用户：主色调（蓝色）
  - 非订阅用户：次要色调（灰色）
- **图标**：
  - 订阅用户：无限符号（∞）
  - 非订阅用户：手势图标（👆）

### 用户体验
- **易读性**：清晰的文字和图标
- **实时更新**：每次滑动后立即更新显示
- **状态区分**：明确区分订阅和非订阅状态
- **日志记录**：完整的操作日志便于调试

## 技术实现

### 关键代码位置
1. `UserSettingsManager.swift` - 核心逻辑
2. `PhotosView.swift` - 照片视图显示
3. `VideosView.swift` - 视频视图显示

### 日志记录
- 滑动次数增加时记录剩余次数
- 区分订阅用户和非订阅用户的操作
- 便于问题追踪和用户行为分析

## 测试建议
1. 测试非订阅用户的滑动次数限制
2. 测试订阅用户的无限滑动
3. 测试跨日期的次数重置
4. 测试UI显示的正确性
5. 测试日志记录的完整性 