# å¤šè¯­è¨€é…ç½®å®ä¾‹æ¼”ç¤º

## ğŸ¯ å®ä¾‹ï¼šæ·»åŠ ä¸€ä¸ªæ–°çš„"è®¾ç½®"é¡µé¢

### æ­¥éª¤1ï¼šåœ¨JSONæ–‡ä»¶ä¸­æ·»åŠ æ–‡æœ¬

æ‰“å¼€ `CleanUpAi/Resources/Localizable.json`ï¼Œåœ¨åˆé€‚çš„ä½ç½®æ·»åŠ ï¼š

```json
{
  "en": {
    "settings": {
      "title": "Settings",
      "language": "Language",
      "language_english": "English",
      "language_chinese": "Chinese",
      "notifications": "Notifications",
      "notifications_enabled": "Enable notifications",
      "about": "About",
      "version_info": "Version %@",
      "developer_info": "Developed by %@"
    }
  },
  "zh": {
    "settings": {
      "title": "è®¾ç½®",
      "language": "è¯­è¨€",
      "language_english": "è‹±è¯­",
      "language_chinese": "ä¸­æ–‡",
      "notifications": "é€šçŸ¥",
      "notifications_enabled": "å¯ç”¨é€šçŸ¥",
      "about": "å…³äº",
      "version_info": "ç‰ˆæœ¬ %@",
      "developer_info": "å¼€å‘è€…ï¼š%@"
    }
  }
}
```

### æ­¥éª¤2ï¼šåœ¨ä»£ç ä¸­ä½¿ç”¨

åˆ›å»º `SettingsView.swift`ï¼š

```swift
import SwiftUI

struct SettingsView: View {
    @State private var notificationsEnabled = true
    @State private var selectedLanguage = "English"
    
    var body: some View {
        NavigationView {
            List {
                // è¯­è¨€è®¾ç½®
                Section(header: Text("settings.language".localized)) {
                    HStack {
                        Text("settings.language".localized)
                        Spacer()
                        Text(selectedLanguage)
                            .foregroundColor(.gray)
                    }
                }
                
                // é€šçŸ¥è®¾ç½®
                Section(header: Text("settings.notifications".localized)) {
                    Toggle("settings.notifications_enabled".localized, isOn: $notificationsEnabled)
                }
                
                // å…³äºä¿¡æ¯
                Section(header: Text("settings.about".localized)) {
                    HStack {
                        Text("settings.version_info".localized("1.0.0"))
                        Spacer()
                    }
                    
                    HStack {
                        Text("settings.developer_info".localized("LazyCat"))
                        Spacer()
                    }
                }
            }
            .navigationTitle("settings.title".localized)
        }
    }
}
```

## ğŸ” è¯¦ç»†è§£æ

### JSONç»“æ„åˆ†æ

```json
{
  "en": {                    // è‹±æ–‡è¯­è¨€åŒ…
    "settings": {            // åŠŸèƒ½æ¨¡å—ï¼šè®¾ç½®
      "title": "Settings",   // é¡µé¢æ ‡é¢˜
      "language": "Language" // è¯­è¨€é€‰é¡¹æ ‡ç­¾
    }
  },
  "zh": {                    // ä¸­æ–‡è¯­è¨€åŒ…
    "settings": {            // ç›¸åŒçš„åŠŸèƒ½æ¨¡å—
      "title": "è®¾ç½®",       // å¯¹åº”çš„ä¸­æ–‡ç¿»è¯‘
      "language": "è¯­è¨€"     // å¯¹åº”çš„ä¸­æ–‡ç¿»è¯‘
    }
  }
}
```

### é”®åå±‚æ¬¡ç»“æ„

```
settings                    // ç¬¬ä¸€å±‚ï¼šåŠŸèƒ½æ¨¡å—
â”œâ”€â”€ title                   // ç¬¬äºŒå±‚ï¼šé¡µé¢æ ‡é¢˜
â”œâ”€â”€ language                // ç¬¬äºŒå±‚ï¼šè¯­è¨€æ ‡ç­¾
â”œâ”€â”€ notifications           // ç¬¬äºŒå±‚ï¼šé€šçŸ¥æ ‡ç­¾
â””â”€â”€ about                   // ç¬¬äºŒå±‚ï¼šå…³äºæ ‡ç­¾
```

### å‚æ•°åŒ–æ–‡æœ¬ç¤ºä¾‹

```json
// å¸¦ä¸€ä¸ªå‚æ•°çš„æ–‡æœ¬
"version_info": "Version %@"     // è‹±æ–‡
"version_info": "ç‰ˆæœ¬ %@"        // ä¸­æ–‡

// åœ¨ä»£ç ä¸­ä½¿ç”¨
Text("settings.version_info".localized("1.0.0"))
// è‹±æ–‡æ˜¾ç¤ºï¼šVersion 1.0.0
// ä¸­æ–‡æ˜¾ç¤ºï¼šç‰ˆæœ¬ 1.0.0
```

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. è¯­æ³•æ£€æŸ¥
```bash
swift -frontend -parse CleanUpAi/Views/Settings/SettingsView.swift
```

### 2. ç¼–è¯‘æµ‹è¯•
```bash
xcodebuild -project CleanUpAi.xcodeproj -scheme CleanUpAi -destination 'platform=iOS Simulator,name=iPhone 14' build
```

### 3. è¿è¡Œæ—¶æµ‹è¯•
```swift
// åœ¨ä»£ç ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯
print("è®¾ç½®é¡µé¢æ ‡é¢˜: \("settings.title".localized)")
print("ç‰ˆæœ¬ä¿¡æ¯: \("settings.version_info".localized("1.0.0"))")
```

### 4. è¯­è¨€åˆ‡æ¢æµ‹è¯•
1. åœ¨è®¾å¤‡è®¾ç½®ä¸­åˆ‡æ¢åˆ°ä¸­æ–‡
2. é‡å¯åº”ç”¨
3. æ£€æŸ¥è®¾ç½®é¡µé¢çš„æ–‡æœ¬æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºä¸ºä¸­æ–‡

## ğŸ“‹ å¸¸è§é—®é¢˜è§£ç­”

### Q: å¦‚æœæˆ‘æƒ³æ·»åŠ ä¸€ä¸ªæ–°çš„æŒ‰é’®æ–‡æœ¬ï¼Œåº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ

A: æ ¹æ®æŒ‰é’®çš„ç”¨é€”æ¥å†³å®šï¼š
- å¦‚æœæ˜¯è®¾ç½®é¡µé¢çš„æŒ‰é’®ï¼š`settings.save_button`
- å¦‚æœæ˜¯é€šç”¨çš„ä¿å­˜æŒ‰é’®ï¼š`common.save`
- å¦‚æœæ˜¯ç…§ç‰‡é¡µé¢çš„æŒ‰é’®ï¼š`photos.save_button`

### Q: å‚æ•°é¡ºåºä¸ä¸€è‡´æ€ä¹ˆåŠï¼Ÿ

A: å¿…é¡»ä¿æŒä¸­è‹±æ–‡å‚æ•°é¡ºåºä¸€è‡´ï¼š
```json
// âœ… æ­£ç¡®
"en": "Found %d photos in %@ folder"
"zh": "åœ¨ %@ æ–‡ä»¶å¤¹ä¸­å‘ç° %d å¼ ç…§ç‰‡"

// âŒ é”™è¯¯
"en": "Found %d photos in %@ folder"
"zh": "å‘ç° %d å¼ ç…§ç‰‡åœ¨ %@ æ–‡ä»¶å¤¹ä¸­"
```

### Q: å¦‚ä½•æ·»åŠ æ–°çš„è¯­è¨€æ”¯æŒï¼Ÿ

A: åœ¨JSONä¸­æ·»åŠ æ–°çš„è¯­è¨€ä»£ç ï¼š
```json
{
  "en": { ... },
  "zh": { ... },
  "ja": {  // æ·»åŠ æ—¥è¯­
    "settings": {
      "title": "è¨­å®š",
      "language": "è¨€èª"
    }
  }
}
```

ç„¶ååœ¨ `LocalizationManager.swift` ä¸­æ·»åŠ è¯­è¨€æ£€æµ‹ï¼š
```swift
if languageCode == "ja" {
    currentLanguage = "ja"
}
```

## ğŸ‰ æ€»ç»“

é…ç½®å¤šè¯­è¨€æ–‡æœ¬çš„æ­¥éª¤ï¼š

1. **åœ¨JSONä¸­æ·»åŠ é”®å€¼** - æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡
2. **åœ¨ä»£ç ä¸­ä½¿ç”¨** - ä½¿ç”¨ `.localized` æ‰©å±•
3. **æµ‹è¯•éªŒè¯** - æ£€æŸ¥è¯­æ³•å’Œè¿è¡Œæ—¶æ•ˆæœ
4. **è¯­è¨€åˆ‡æ¢æµ‹è¯•** - ç¡®ä¿ä¸­è‹±æ–‡éƒ½æ­£ç¡®æ˜¾ç¤º

è®°ä½å…³é”®åŸåˆ™ï¼š
- **é”®åè¦æ¸…æ™°**ï¼šä½¿ç”¨ç‚¹å·åˆ†éš”çš„å±‚æ¬¡ç»“æ„
- **å‚æ•°è¦ä¸€è‡´**ï¼šä¸­è‹±æ–‡å‚æ•°é¡ºåºå¿…é¡»ç›¸åŒ
- **æµ‹è¯•è¦å®Œæ•´**ï¼šè¯­æ³•ã€ç¼–è¯‘ã€è¿è¡Œæ—¶éƒ½è¦æµ‹è¯• 