# CleanU AI - iOSå¼€å‘æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

### åº”ç”¨ä¿¡æ¯
- **åº”ç”¨åç§°**: CleanU AI
- **å¼€å‘è¯­è¨€**: Swift
- **ç›®æ ‡ç”¨æˆ·**: è€å¹´äººç¾¤ä½“
- **ç«å“å‚è€ƒ**: AI cleaner, Picnic
- **æ ¸å¿ƒåŠŸèƒ½**: æ‰‹æœºå†…å­˜æ¸…ç†ï¼Œæ–‡ä»¶ç®¡ç†

### åº”ç”¨æè¿°
CleanU AI æ˜¯ä¸€æ¬¾ä¸“ä¸ºè€å¹´äººè®¾è®¡çš„æ‰‹æœºå†…å­˜æ¸…ç†åº”ç”¨ã€‚é€šè¿‡æ™ºèƒ½åˆ†ææ‰‹æœºå­˜å‚¨å ç”¨æƒ…å†µï¼Œä¸ºç”¨æˆ·æä¾›æ¸…ç†å»ºè®®ï¼Œé‡‡ç”¨ç®€å•ç›´è§‚çš„æ»‘åŠ¨æ“ä½œè¿›è¡Œæ–‡ä»¶ç®¡ç†ã€‚

## æŠ€æœ¯æ ˆ

### å¼€å‘ç¯å¢ƒ
- **å¼€å‘å·¥å…·**: Xcode
- **iOSç‰ˆæœ¬**: iOS 16.0+
- **å¼€å‘è¯­è¨€**: Swift 5.0+
- **UIæ¡†æ¶**: SwiftUI/UIKit

### æ ¸å¿ƒæŠ€æœ¯
- **æ–‡ä»¶åˆ†æ**: å“ˆå¸Œç®—æ³•æ£€æµ‹é‡å¤æ–‡ä»¶
- **å›¾ç‰‡ç›¸ä¼¼åº¦**: CLIPæ¨¡å‹ï¼ˆå¯é€‰ï¼‰
- **å­˜å‚¨è®¿é—®**: Photos Framework, DocumentPicker, FileManager
- **éŸ³è§†é¢‘å¤„ç†**: AVFoundation (ç”¨äºéŸ³è§†é¢‘æ–‡ä»¶åˆ†æ)
- **æ•°æ®æŒä¹…åŒ–**: Core Data / UserDefaults
- **ç½‘ç»œè¯·æ±‚**: URLSession (ç”¨äºè®¢é˜…éªŒè¯)

## æƒé™è¦æ±‚

### å¿…éœ€æƒé™
```xml
<!-- Info.plist é…ç½® -->
<key>NSPhotoLibraryUsageDescription</key>
<string>éœ€è¦è®¿é—®ç…§ç‰‡åº“æ¥åˆ†æå’Œæ¸…ç†é‡å¤/ç›¸ä¼¼å›¾ç‰‡</string>

<key>NSCameraUsageDescription</key>
<string>éœ€è¦è®¿é—®ç›¸æœºæ¥ç®¡ç†ç…§ç‰‡</string>

<!-- 
æ³¨æ„ï¼šæœ¬APPä¸ºæ¸…ç†å·¥å…·ï¼Œåªè¯»å–å’Œåˆ é™¤æ–‡ä»¶ï¼Œä¸éœ€è¦ä»¥ä¸‹æƒé™ï¼š
- NSMicrophoneUsageDescription (ä¸å½•åˆ¶éŸ³é¢‘)
- NSAppleMusicUsageDescription (ä¸è®¿é—®éŸ³ä¹åº“)
æ–‡æ¡£ç›®å½•è®¿é—®æƒé™é€šè¿‡DocumentPickerå®ç°ï¼Œæ— éœ€ç‰¹æ®Šé…ç½®
-->

<key>UNUserNotificationCenter</key>
<string>éœ€è¦å‘é€é€šçŸ¥æ¥æé†’ç”¨æˆ·æ¸…ç†å»ºè®®</string>
```

### æƒé™ç”³è¯·æ—¶æœº
- ç…§ç‰‡åº“æƒé™ï¼šè¿›å…¥ä¸»ç•Œé¢å‰
- é€šçŸ¥æƒé™ï¼šOnboardingç¬¬2é¡µ
- æ–‡æ¡£è®¿é—®ï¼šé€šè¿‡DocumentPickerè®©ç”¨æˆ·ä¸»åŠ¨é€‰æ‹©è¦æ¸…ç†çš„æ–‡ä»¶

## åº”ç”¨æ¶æ„

### é¡µé¢æµç¨‹
```
å¯åŠ¨ â†’ Splash â†’ Onboarding â†’ Paywall â†’ ä¸»ç•Œé¢
```

### æ–‡ä»¶ç»“æ„
```
CleanUpAi/
â”œâ”€â”€ App/
â”‚   â”œâ”€â”€ CleanUpAiApp.swift
â”‚   â””â”€â”€ AppDelegate.swift
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ Splash/
â”‚   â”‚   â””â”€â”€ SplashView.swift
â”‚   â”œâ”€â”€ Onboarding/
â”‚   â”‚   â”œâ”€â”€ OnboardingContainerView.swift
â”‚   â”‚   â”œâ”€â”€ OnboardingPage1View.swift
â”‚   â”‚   â”œâ”€â”€ OnboardingPage2View.swift
â”‚   â”‚   â”œâ”€â”€ OnboardingPage3View.swift
â”‚   â”‚   â””â”€â”€ OnboardingPage4View.swift
â”‚   â”œâ”€â”€ Paywall/
â”‚   â”‚   â””â”€â”€ PaywallView.swift
â”‚   â”œâ”€â”€ Main/
â”‚   â”‚   â”œâ”€â”€ MainTabView.swift
â”‚   â”‚   â”œâ”€â”€ PhotosView.swift
â”‚   â”‚   â”œâ”€â”€ VideosView.swift
â”‚   â”‚   â”œâ”€â”€ AudioView.swift
â”‚   â”‚   â””â”€â”€ FilesView.swift
â”‚   â””â”€â”€ RecycleBin/
â”‚       â””â”€â”€ RecycleBinView.swift
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ MediaItem.swift
â”‚   â”œâ”€â”€ StorageInfo.swift
â”‚   â””â”€â”€ SubscriptionPlan.swift
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ PhotoAnalyzer.swift
â”‚   â”œâ”€â”€ FileManager+Extensions.swift
â”‚   â”œâ”€â”€ SubscriptionManager.swift
â”‚   â””â”€â”€ PermissionManager.swift
â”œâ”€â”€ Utils/
â”‚   â”œâ”€â”€ HashGenerator.swift
â”‚   â”œâ”€â”€ Logger.swift
â”‚   â””â”€â”€ Constants.swift
â””â”€â”€ Resources/
    â”œâ”€â”€ Assets.xcassets
    â””â”€â”€ Localizable.strings
```

## è¯¦ç»†é¡µé¢è§„æ ¼

### 1. Splashé¡µé¢ (SplashView)

#### åŠŸèƒ½è¦æ±‚
- å±•ç¤ºAPP Logo
- æ˜¾ç¤ºå¼€å‘è€…ä¿¡æ¯ï¼š"Made with LazyCat"
- 2-3ç§’åè‡ªåŠ¨è·³è½¬åˆ°Onboarding

#### UIè®¾è®¡
```swift
struct SplashView: View {
    @State private var isActive = false
    
    var body: some View {
        VStack(spacing: 30) {
            // App Logo
            Image("app_logo")
                .resizable()
                .frame(width: 120, height: 120)
            
            // App Name
            Text("CleanU AI")
                .font(.largeTitle)
                .fontWeight(.bold)
            
            Spacer()
            
            // Developer Info
            Text("Made with LazyCat")
                .font(.footnote)
                .foregroundColor(.gray)
        }
        .onAppear {
            DispatchQueue.main.asyncAfter(deadline: .now() + 2.5) {
                isActive = true
            }
        }
        .fullScreenCover(isPresented: $isActive) {
            OnboardingContainerView()
        }
    }
}
```

### 2. Onboardingé¡µé¢

#### é¡µé¢1: æ•ˆç‡æ¸…ç†
- **æ ‡é¢˜**: "é«˜æ•ˆæ¸…ç†ï¼ŒèŠ‚çœç©ºé—´"
- **å‰¯æ ‡é¢˜**: "æ™ºèƒ½åˆ†æï¼Œæå‡æ‰‹æœºæ€§èƒ½"
- **å›¾æ ‡**: æ¸…ç†åŠ¨ç”»

#### é¡µé¢2: æƒé™è¯´æ˜
- **æ ‡é¢˜**: "éœ€è¦ä»¥ä¸‹æƒé™"
- **å†…å®¹**: 
  - ğŸ“¸ ç…§ç‰‡åº“è®¿é—®æƒé™ - åˆ†æå’Œæ¸…ç†ç›¸ä¼¼å›¾ç‰‡
  - ğŸ”” é€šçŸ¥æƒé™ - åŠæ—¶æé†’æ¸…ç†å»ºè®®
  - ğŸ“ æ–‡ä»¶è®¿é—® - æ‚¨å¯ä»¥é€‰æ‹©è¦æ¸…ç†çš„æ–‡ä»¶
- **æŒ‰é’®**: "æˆæƒ"

#### é¡µé¢3: å¹´åº¦å›é¡¾
- **æ ‡é¢˜**: "å¹´åº¦å›¾ç‰‡å›é¡¾"
- **å†…å®¹**: å±•ç¤ºå›¾ç‰‡åˆ†æåŠŸèƒ½

#### é¡µé¢4: ç»Ÿè®¡ä¿¡æ¯
- **æ ‡é¢˜**: "æ‚¨æœ‰ XXX å¼ å›¾ç‰‡ç­‰å¾…æ¸…ç†"
- **å†…å®¹**: åŠ¨æ€æ˜¾ç¤ºç”¨æˆ·å›¾ç‰‡æ•°é‡

```swift
struct OnboardingPage2View: View {
    @ObservedObject var permissionManager = PermissionManager.shared
    
    var body: some View {
        VStack(spacing: 20) {
            Text("æˆ‘ä»¬éœ€è¦ä»¥ä¸‹æƒé™")
                .font(.title)
                .fontWeight(.bold)
            
            VStack(alignment: .leading, spacing: 15) {
                PermissionRow(icon: "ğŸ“¸", title: "ç…§ç‰‡åº“æƒé™", description: "åˆ†æå’Œæ¸…ç†ç›¸ä¼¼å›¾ç‰‡")
                PermissionRow(icon: "ğŸ””", title: "é€šçŸ¥æƒé™", description: "åŠæ—¶æé†’æ¸…ç†å»ºè®®")
                PermissionRow(icon: "ğŸ“", title: "æ–‡ä»¶è®¿é—®", description: "æ‚¨å¯ä»¥é€‰æ‹©è¦æ¸…ç†çš„æ–‡ä»¶")
            }
            
            Button("æˆæƒ") {
                permissionManager.requestPhotoLibraryPermission()
                permissionManager.requestNotificationPermission()
                // æ–‡ä»¶è®¿é—®é€šè¿‡DocumentPickerå®ç°ï¼Œæ— éœ€åœ¨æ­¤å¤„è¯·æ±‚
            }
            .buttonStyle(PrimaryButtonStyle())
        }
    }
}
```

### 3. Paywallé¡µé¢

#### è®¢é˜…æ–¹æ¡ˆ
- **å¹´åº¦è®¢é˜…**: Â¥29.99/å¹´ (7å¤©å…è´¹è¯•ç”¨)
- **æœˆåº¦è®¢é˜…**: Â¥9.99/æœˆ
- **å‘¨åº¦è®¢é˜…**: Â¥4.99/å‘¨

#### UIå¸ƒå±€
```swift
struct PaywallView: View {
    var body: some View {
        VStack(spacing: 20) {
            // åŠŸèƒ½ä»‹ç»
            VStack(spacing: 15) {
                Text("CleanU AI Pro")
                    .font(.largeTitle)
                    .fontWeight(.bold)
                
                FeatureRow(icon: "ğŸš€", text: "æ™ºèƒ½æ¸…ç†é‡å¤æ–‡ä»¶")
                FeatureRow(icon: "ğŸ“±", text: "é‡Šæ”¾å­˜å‚¨ç©ºé—´")
                FeatureRow(icon: "ğŸ”’", text: "å®‰å…¨åˆ é™¤ä¿æŠ¤")
            }
            
            // ä»·æ ¼é€‰é¡¹
            VStack(spacing: 12) {
                SubscriptionOption(
                    title: "å¹´åº¦è®¢é˜…",
                    price: "Â¥29.99/å¹´",
                    subtitle: "7å¤©å…è´¹è¯•ç”¨",
                    isRecommended: true
                )
                
                SubscriptionOption(
                    title: "æœˆåº¦è®¢é˜…", 
                    price: "Â¥9.99/æœˆ"
                )
                
                SubscriptionOption(
                    title: "å‘¨åº¦è®¢é˜…",
                    price: "Â¥4.99/å‘¨"
                )
            }
            
            Button("å¼€å§‹å…è´¹è¯•ç”¨") {
                // å¤„ç†è®¢é˜…
            }
            .buttonStyle(PrimaryButtonStyle())
        }
    }
}
```

### 4. ä¸»ç•Œé¢ (MainTabView)

#### Tabç»“æ„
```swift
struct MainTabView: View {
    var body: some View {
        TabView {
            PhotosView()
                .tabItem {
                    Image(systemName: "photo")
                    Text("ç…§ç‰‡")
                }
            
            VideosView()
                .tabItem {
                    Image(systemName: "video")
                    Text("è§†é¢‘")
                }
            
            AudioView()
                .tabItem {
                    Image(systemName: "music.note")
                    Text("éŸ³é¢‘")
                }
            
            FilesView()
                .tabItem {
                    Image(systemName: "doc")
                    Text("æ–‡ä»¶")
                }
        }
        .accentColor(.blue)
    }
}
```

#### æ»‘åŠ¨å¡ç‰‡ç»„ä»¶
```swift
struct SwipeableMediaCard: View {
    let mediaItem: MediaItem
    @State private var offset: CGSize = .zero
    
    var body: some View {
        ZStack {
            // èƒŒæ™¯æŒ‡ç¤ºå™¨
            HStack {
                // å·¦æ»‘åˆ é™¤
                RoundedRectangle(cornerRadius: 12)
                    .fill(Color.red)
                    .overlay(
                        Image(systemName: "trash")
                            .foregroundColor(.white)
                    )
                
                Spacer()
                
                // å³æ»‘ä¿ç•™
                RoundedRectangle(cornerRadius: 12)
                    .fill(Color.green)
                    .overlay(
                        Image(systemName: "heart")
                            .foregroundColor(.white)
                    )
            }
            .opacity(abs(offset.width) > 50 ? 1 : 0)
            
            // åª’ä½“å¡ç‰‡
            MediaCardContent(item: mediaItem)
                .offset(offset)
                .gesture(
                    DragGesture()
                        .onChanged { value in
                            offset = value.translation
                        }
                        .onEnded { value in
                            handleSwipeEnd(value)
                        }
                )
        }
    }
    
    private func handleSwipeEnd(_ value: DragGesture.Value) {
        let threshold: CGFloat = 100
        
        if value.translation.x < -threshold {
            // å·¦æ»‘åˆ é™¤
            moveToRecycleBin()
        } else if value.translation.x > threshold {
            // å³æ»‘ä¿ç•™
            markAsKeep()
        }
        
        withAnimation(.spring()) {
            offset = .zero
        }
    }
}
```

## è€å¹´äººUIè®¾è®¡è¦æ±‚

### å­—ä½“è§„èŒƒ
```swift
extension Font {
    static let seniorLargeTitle = Font.system(size: 32, weight: .bold)
    static let seniorTitle = Font.system(size: 24, weight: .semibold)
    static let seniorBody = Font.system(size: 20, weight: .regular)
    static let seniorCaption = Font.system(size: 16, weight: .regular)
}
```

### é¢œè‰²è§„èŒƒ
```swift
extension Color {
    static let seniorPrimary = Color(red: 0.2, green: 0.6, blue: 1.0)
    static let seniorSecondary = Color(red: 0.5, green: 0.5, blue: 0.5)
    static let seniorBackground = Color(red: 0.98, green: 0.98, blue: 0.98)
    static let seniorText = Color(red: 0.1, green: 0.1, blue: 0.1)
}
```

### æŒ‰é’®æ ·å¼
```swift
struct SeniorButtonStyle: ButtonStyle {
    func makeBody(configuration: Configuration) -> some View {
        configuration.label
            .font(.seniorBody)
            .foregroundColor(.white)
            .padding(.horizontal, 30)
            .padding(.vertical, 15)
            .background(
                RoundedRectangle(cornerRadius: 12)
                    .fill(Color.seniorPrimary)
            )
            .scaleEffect(configuration.isPressed ? 0.95 : 1.0)
            .animation(.easeInOut(duration: 0.1), value: configuration.isPressed)
    }
}
```

## æ ¸å¿ƒæœåŠ¡å®ç°

### 1. æ–‡ä»¶è®¿é—®æœåŠ¡
```swift
import UniformTypeIdentifiers

class FileAccessManager: ObservableObject {
    private let logger = Logger(subsystem: "CleanUpAI", category: "FileAccess")
    
    func requestDocumentAccess() {
        logger.info("è¯·æ±‚æ–‡æ¡£è®¿é—®æƒé™")
        
        let documentPicker = UIDocumentPickerViewController(forOpeningContentTypes: [
            UTType.audio,          // éŸ³é¢‘æ–‡ä»¶
            UTType.movie,          // è§†é¢‘æ–‡ä»¶
            UTType.data,           // é€šç”¨æ–‡ä»¶
            UTType.folder          // æ–‡ä»¶å¤¹
        ], asCopy: false)
        
        documentPicker.allowsMultipleSelection = true
        // å±•ç¤ºæ–‡æ¡£é€‰æ‹©å™¨è®©ç”¨æˆ·é€‰æ‹©è¦æ¸…ç†çš„æ–‡ä»¶
    }
    
    func scanDocumentsDirectory() async -> [MediaItem] {
        logger.info("æ‰«ææ–‡æ¡£ç›®å½•")
        
        let documentsPath = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first!
        let downloadPath = FileManager.default.urls(for: .downloadsDirectory, in: .userDomainMask).first!
        
        var mediaItems: [MediaItem] = []
        
        // æ‰«ææ–‡æ¡£ç›®å½•å’Œä¸‹è½½ç›®å½•ä¸­çš„éŸ³é¢‘ã€è§†é¢‘ã€æ–‡æ¡£æ–‡ä»¶
        for directory in [documentsPath, downloadPath] {
            let items = await scanDirectory(directory)
            mediaItems.append(contentsOf: items)
        }
        
        logger.info("æ–‡æ¡£æ‰«æå®Œæˆï¼Œå‘ç° \(mediaItems.count) ä¸ªæ–‡ä»¶")
        return mediaItems
    }
    
    private func scanDirectory(_ url: URL) async -> [MediaItem] {
        do {
            let contents = try FileManager.default.contentsOfDirectory(
                at: url,
                includingPropertiesForKeys: [.contentTypeKey, .fileSizeKey, .creationDateKey],
                options: [.skipsHiddenFiles]
            )
            
            return contents.compactMap { fileURL in
                guard let resourceValues = try? fileURL.resourceValues(forKeys: [.contentTypeKey, .fileSizeKey]),
                      let contentType = resourceValues.contentType else {
                    return nil
                }
                
                // åªå¤„ç†éŸ³é¢‘ã€è§†é¢‘ã€æ–‡æ¡£æ–‡ä»¶
                if contentType.conforms(to: .audio) || 
                   contentType.conforms(to: .movie) || 
                   contentType.conforms(to: .data) {
                    return MediaItem(fileURL: fileURL, contentType: contentType)
                }
                
                return nil
            }
        } catch {
            logger.error("æ‰«æç›®å½•å¤±è´¥: \(error.localizedDescription)")
            return []
        }
    }
}
```

### 2. ç…§ç‰‡åˆ†ææœåŠ¡
```swift
class PhotoAnalyzer: ObservableObject {
    private let logger = Logger(subsystem: "CleanUpAI", category: "PhotoAnalyzer")
    
    func analyzePhotos() async -> [MediaItem] {
        logger.info("å¼€å§‹åˆ†æç…§ç‰‡åº“")
        
        let photos = await fetchAllPhotos()
        let duplicates = await findDuplicates(photos)
        
        logger.info("åˆ†æå®Œæˆï¼Œå‘ç° \(duplicates.count) ä¸ªé‡å¤é¡¹")
        return duplicates
    }
    
    private func findDuplicates(_ photos: [PHAsset]) async -> [MediaItem] {
        var hashMap: [String: [PHAsset]] = [:]
        
        for photo in photos {
            let hash = await generateHash(for: photo)
            hashMap[hash, default: []].append(photo)
        }
        
        return hashMap.values
            .filter { $0.count > 1 }
            .flatMap { $0.dropFirst() }
            .map { MediaItem(asset: $0, isDuplicate: true) }
    }
    
    private func generateHash(for asset: PHAsset) async -> String {
        // å®ç°å“ˆå¸Œç”Ÿæˆé€»è¾‘
        logger.debug("ä¸ºèµ„æºç”Ÿæˆå“ˆå¸Œ: \(asset.localIdentifier)")
        return HashGenerator.generateHash(for: asset)
    }
}
```

### 3. æƒé™ç®¡ç†æœåŠ¡
```swift
class PermissionManager: ObservableObject {
    static let shared = PermissionManager()
    private let logger = Logger(subsystem: "CleanUpAI", category: "PermissionManager")
    
    @Published var photoLibraryStatus: PHAuthorizationStatus = .notDetermined
    @Published var notificationStatus: UNAuthorizationStatus = .notDetermined
    
    func requestPhotoLibraryPermission() {
        logger.info("è¯·æ±‚ç…§ç‰‡åº“æƒé™")
        
        PHPhotoLibrary.requestAuthorization(for: .readWrite) { [weak self] status in
            DispatchQueue.main.async {
                self?.photoLibraryStatus = status
                self?.logger.info("ç…§ç‰‡åº“æƒé™çŠ¶æ€: \(status.rawValue)")
            }
        }
    }
    
    func requestNotificationPermission() {
        logger.info("è¯·æ±‚é€šçŸ¥æƒé™")
        
        UNUserNotificationCenter.current().requestAuthorization(options: [.alert, .sound, .badge]) { [weak self] granted, error in
            DispatchQueue.main.async {
                if granted {
                    self?.notificationStatus = .authorized
                    self?.logger.info("é€šçŸ¥æƒé™å·²æˆæƒ")
                } else {
                    self?.notificationStatus = .denied
                    self?.logger.warning("é€šçŸ¥æƒé™è¢«æ‹’ç»: \(error?.localizedDescription ?? "æœªçŸ¥é”™è¯¯")")
                }
            }
        }
    }
}
```

### 4. å›æ”¶ç«™ç®¡ç†
```swift
class RecycleBinManager: ObservableObject {
    private let logger = Logger(subsystem: "CleanUpAI", category: "RecycleBinManager")
    @Published var items: [MediaItem] = []
    
    func moveToRecycleBin(_ item: MediaItem) {
        logger.info("å°†é¡¹ç›®ç§»åŠ¨åˆ°å›æ”¶ç«™: \(item.id)")
        
        // æ ‡è®°ä¸ºåˆ é™¤ä½†ä¸å®é™…åˆ é™¤
        var updatedItem = item
        updatedItem.isInRecycleBin = true
        updatedItem.deletedDate = Date()
        
        items.append(updatedItem)
        saveToUserDefaults()
    }
    
    func permanentlyDelete(_ item: MediaItem) async {
        logger.info("æ°¸ä¹…åˆ é™¤é¡¹ç›®: \(item.id)")
        
        do {
            try await PHPhotoLibrary.shared().performChanges {
                PHAssetChangeRequest.deleteAssets([item.asset] as NSArray)
            }
            
            // ä»å›æ”¶ç«™ç§»é™¤
            items.removeAll { $0.id == item.id }
            saveToUserDefaults()
            
            logger.info("é¡¹ç›®å·²æ°¸ä¹…åˆ é™¤: \(item.id)")
        } catch {
            logger.error("åˆ é™¤å¤±è´¥: \(error.localizedDescription)")
        }
    }
    
    func restore(_ item: MediaItem) {
        logger.info("æ¢å¤é¡¹ç›®: \(item.id)")
        items.removeAll { $0.id == item.id }
        saveToUserDefaults()
    }
}
```

## æ—¥å¿—è®°å½•

### æ—¥å¿—é…ç½®
```swift
import OSLog

extension Logger {
    private static var subsystem = Bundle.main.bundleIdentifier!
    
    static let ui = Logger(subsystem: subsystem, category: "UI")
    static let fileManager = Logger(subsystem: subsystem, category: "FileManager")
    static let subscription = Logger(subsystem: subsystem, category: "Subscription")
    static let analytics = Logger(subsystem: subsystem, category: "Analytics")
}
```

### å…³é”®èŠ‚ç‚¹æ—¥å¿—
- åº”ç”¨å¯åŠ¨å’Œé¡µé¢å¯¼èˆª
- æƒé™è¯·æ±‚å’ŒçŠ¶æ€å˜åŒ–
- æ–‡ä»¶åˆ†æå’Œæ¸…ç†æ“ä½œ
- è®¢é˜…ç›¸å…³æ“ä½œ
- é”™è¯¯å’Œå¼‚å¸¸æƒ…å†µ

## å¼€å‘è®¡åˆ’

### Phase 1: åŸºç¡€æ¡†æ¶ (1-2å‘¨)
- [x] é¡¹ç›®åˆå§‹åŒ–
- [ ] åŸºç¡€é¡µé¢ç»“æ„æ­å»º
- [ ] æƒé™ç®¡ç†å®ç°
- [ ] æ—¥å¿—ç³»ç»Ÿé›†æˆ

### Phase 2: æ ¸å¿ƒåŠŸèƒ½ (2-3å‘¨)
- [ ] ç…§ç‰‡åº“è®¿é—®å’Œåˆ†æ
- [ ] æ»‘åŠ¨äº¤äº’å®ç°
- [ ] å›æ”¶ç«™åŠŸèƒ½
- [ ] åŸºç¡€UIç»„ä»¶

### Phase 3: é«˜çº§åŠŸèƒ½ (1-2å‘¨)
- [ ] å“ˆå¸Œç®—æ³•é›†æˆ
- [ ] ç›¸ä¼¼å›¾ç‰‡æ£€æµ‹
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] è€å¹´äººUIé€‚é…

### Phase 4: å•†ä¸šåŒ– (1å‘¨)
- [ ] è®¢é˜…ç³»ç»Ÿé›†æˆ
- [ ] Paywallå®ç°
- [ ] åº”ç”¨å†…è´­ä¹°

### Phase 5: æµ‹è¯•å’Œä¼˜åŒ– (1-2å‘¨)
- [ ] å•å…ƒæµ‹è¯•
- [ ] UIæµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] è€å¹´äººç”¨æˆ·æµ‹è¯•

## æ³¨æ„äº‹é¡¹

1. **æ€§èƒ½è€ƒè™‘**
   - å¤§é‡ç…§ç‰‡å¤„ç†æ—¶ä½¿ç”¨åå°é˜Ÿåˆ—
   - å®ç°åˆ†é¡µåŠ è½½æœºåˆ¶
   - å›¾ç‰‡ç¼©ç•¥å›¾ç¼“å­˜

2. **ç”¨æˆ·ä½“éªŒ**
   - æ˜ç¡®çš„æ“ä½œåé¦ˆ
   - é˜²è¯¯æ“ä½œè®¾è®¡
   - ç®€åŒ–çš„å¯¼èˆªæµç¨‹

3. **éšç§ä¿æŠ¤**
   - æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ ç”¨æˆ·æ•°æ®
   - æ˜ç¡®çš„æƒé™è¯´æ˜
   - å®‰å…¨çš„æ•°æ®å­˜å‚¨

4. **å…¼å®¹æ€§**
   - æ”¯æŒiOS 16.0+
   - é€‚é…ä¸åŒå±å¹•å°ºå¯¸
   - æ”¯æŒæ·±è‰²æ¨¡å¼

5. **é”™è¯¯å¤„ç†**
   - å®Œå–„çš„é”™è¯¯æ—¥å¿—
   - ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
   - å¼‚å¸¸æƒ…å†µçš„æ¢å¤æœºåˆ¶

## æ€»ç»“

æœ¬æ–‡æ¡£ä¸ºCleanU AIçš„iOSå¼€å‘æä¾›äº†è¯¦ç»†çš„æŠ€æœ¯è§„æ ¼å’Œå®ç°æŒ‡å—ã€‚å¼€å‘è¿‡ç¨‹ä¸­åº”ç‰¹åˆ«å…³æ³¨è€å¹´äººç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒï¼Œç¡®ä¿åº”ç”¨çš„æ˜“ç”¨æ€§å’Œå®‰å…¨æ€§ã€‚é€šè¿‡åˆç†çš„æ¶æ„è®¾è®¡å’Œè¯¦ç»†çš„æ—¥å¿—è®°å½•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°è·Ÿè¸ªé—®é¢˜å¹¶æŒç»­ä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚ 